{"ast":null,"code":"import _slicedToArray from\"C:/Users/jlamb/OneDrive/Desktop/Development/Personal/React/yt_lite/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState,useEffect}from'react';import{Link,useParams}from'react-router-dom';import ReactPlayer from'react-player';import{Typography,Box,Stack}from'@mui/material';import{CheckCircle}from'@mui/icons-material';import{Videos,Loader}from'./';import{fetchAPI}from'../utils/fetchAPI';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function VideoDetail(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),videoDetail=_useState2[0],setVideoDetail=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),videos=_useState4[0],setVideos=_useState4[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){fetchAPI(\"videos?part=snippet,statistics&id=\".concat(id)).then(function(data){return setVideoDetail(data.items[0]);});fetchAPI(\"search?part=snippet&relatedToVideoId=\".concat(id,\"&type=video\")).then(function(data){return setVideos(data.items);});},[id]);if(!(videoDetail!==null&&videoDetail!==void 0&&videoDetail.snippet))return'Loading...';var _videoDetail$snippet=videoDetail.snippet,title=_videoDetail$snippet.title,channelId=_videoDetail$snippet.channelId,channelTitle=_videoDetail$snippet.channelTitle,_videoDetail$statisti=videoDetail.statistics,viewCount=_videoDetail$statisti.viewCount,likeCount=_videoDetail$statisti.likeCount;return/*#__PURE__*/_jsx(Box,{minHeight:\"95vh\",children:/*#__PURE__*/_jsxs(Stack,{direction:{xs:'column',md:'row'},children:[/*#__PURE__*/_jsx(Box,{flex:1,children:/*#__PURE__*/_jsxs(Box,{sx:{width:'100%',position:'sticky',top:'86px'},children:[/*#__PURE__*/_jsx(ReactPlayer,{url:\"https://www.youtube.com/watch?v=\".concat(id),className:\"react-player\",controls:true}),/*#__PURE__*/_jsx(Typography,{color:\"#FFF\",variant:\"h5\",fontWeight:\"bold\",p:2,children:title}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",justifyContent:\"space-between\",sx:{color:'#fff'},py:1,px:2,children:[/*#__PURE__*/_jsx(Link,{to:\"/channel/\".concat(channelId),children:/*#__PURE__*/_jsxs(Typography,{variant:{sm:'subtitle1',md:'h6'},color:\"#fff\",children:[channelTitle,/*#__PURE__*/_jsx(CheckCircle,{sx:{fontSize:'12px',color:'gray',ml:'5px'}})]})}),/*#__PURE__*/_jsx(Stack,{direction:\"row\",gap:\"20px\",alignItems:\"center\",children:/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",sx:{opacity:0.7},children:[parseInt(likeCount).toLocaleString(),\" likes\"]})})]})]})}),/*#__PURE__*/_jsx(Box,{px:2,py:{md:1,xs:5},justifyContent:\"center\",alignItems:\"center\",children:/*#__PURE__*/_jsx(Videos,{videos:videos,direction:\"column\"})})]})});}export default VideoDetail;","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","ReactPlayer","Typography","Box","Stack","CheckCircle","Videos","Loader","fetchAPI","VideoDetail","videoDetail","setVideoDetail","videos","setVideos","id","then","data","items","snippet","title","channelId","channelTitle","statistics","viewCount","likeCount","xs","md","width","position","top","color","sm","fontSize","ml","opacity","parseInt","toLocaleString"],"sources":["C:/Users/jlamb/OneDrive/Desktop/Development/Personal/React/yt_lite/src/components/VideoDetail.jsx"],"sourcesContent":["import React from 'react'\r\nimport { useState, useEffect} from 'react'\r\nimport { Link, useParams } from 'react-router-dom'\r\nimport ReactPlayer from 'react-player'\r\nimport { Typography, Box, Stack} from '@mui/material'\r\nimport {CheckCircle} from '@mui/icons-material'\r\n\r\nimport { Videos, Loader} from './';\r\nimport {fetchAPI} from '../utils/fetchAPI'\r\n\r\n\r\n\r\nfunction VideoDetail() {\r\n    \r\n        const [videoDetail, setVideoDetail] = useState(null)\r\n        const [ videos, setVideos ] = useState(null)\r\n        const { id } = useParams()\r\n    \r\n        useEffect (() => {\r\n            fetchAPI(`videos?part=snippet,statistics&id=${id}`)\r\n            .then((data) => setVideoDetail(data.items[0]))\r\n\r\n            fetchAPI(`search?part=snippet&relatedToVideoId=${id}&type=video`)\r\n            .then((data) => setVideos(data.items))\r\n        }, [id])\r\n\r\n        if(!videoDetail?.snippet) return 'Loading...'\r\n    \r\n    const { snippet : {title, channelId, channelTitle}, statistics: {viewCount, likeCount}} = videoDetail\r\n    \r\n    return (\r\n        <Box minHeight='95vh'>\r\n            <Stack direction={{ xs: 'column', md: 'row'}}>\r\n                <Box flex={1}>\r\n                    <Box sx={{width: '100%', position: 'sticky', top: '86px'}}>\r\n                        <ReactPlayer url={`https://www.youtube.com/watch?v=${id}`} className='react-player' controls />\r\n                        <Typography color=\"#FFF\" variant=\"h5\" fontWeight ='bold' p={2}>\r\n                            {title}\r\n                        </Typography>\r\n                        <Stack direction='row' justifyContent='space-between' sx={{ color:'#fff'}} py={1} px={2}>\r\n                            <Link to={`/channel/${channelId}`}>\r\n                            <Typography variant ={{ sm: 'subtitle1', md: 'h6'}} color=\"#fff\">\r\n                                {channelTitle}\r\n                                <CheckCircle sx={{fontSize: '12px', color: 'gray', ml: '5px'}} />\r\n                            </Typography>\r\n                            </Link>\r\n                            <Stack direction='row' gap='20px' alignItems='center'>\r\n                                <Typography variant='body1' sx={{opacity: 0.7}}>\r\n                                    {parseInt(likeCount).toLocaleString()} likes\r\n                                </Typography>\r\n                            </Stack>\r\n                        </Stack>\r\n                    </Box>\r\n                </Box>\r\n                <Box px={2} py={{ md: 1, xs: 5}} justifyContent='center' alignItems='center'>\r\n                    <Videos videos={videos} direction='column' />\r\n                </Box>\r\n            </Stack>\r\n        </Box>\r\n    )\r\n}\r\n\r\n\r\nexport default VideoDetail"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}